window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(var n=0;n<this.length;n++)t.call(e,this[n],n,this)}),Array.prototype.every||(Array.prototype.every=function(t){"use strict";if(null==this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=arguments[1],o=0;o<n;o++)if(o in e&&!t.call(i,e[o],o,e))return!1;return!0}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1}),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}),function(t){if("function"==typeof t.CustomEvent)return!1;function e(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}e.prototype=t.Event.prototype,t.CustomEvent=e}(this),Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(o){if("function"!=typeof o&&("object"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var s,r,a=[];for(s in o)t.call(o,s)&&a.push(s);if(e)for(r=0;r<i;r++)t.call(o,n[r])&&a.push(n[r]);return a}}()),function(t){"use strict";var e=function(){},n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(t){return setTimeout(t,16)};function i(){this.reads=[],this.writes=[],this.raf=n.bind(t),e("initialized",this)}function o(t){t.scheduled||(t.scheduled=!0,t.raf(function(t){e("flush");var n,i=t.writes,r=t.reads;try{e("flushing reads",r.length),s(r),e("flushing writes",i.length),s(i)}catch(t){n=t}t.scheduled=!1,(r.length||i.length)&&o(t);if(n){if(e("task errored",n.message),!t.catch)throw n;t.catch(n)}}.bind(null,t)),e("flush scheduled"))}function s(t){var n;for(e("run tasks");n=t.shift();)n()}function r(t,e){var n=t.indexOf(e);return!!~n&&!!t.splice(n,1)}i.prototype={constructor:i,measure:function(t,n){e("measure");var i=n?t.bind(n):t;return this.reads.push(i),o(this),i},mutate:function(t,n){e("mutate");var i=n?t.bind(n):t;return this.writes.push(i),o(this),i},clear:function(t){return e("clear",t),r(this.reads,t)||r(this.writes,t)},extend:function(t){if(e("extend",t),"object"!=typeof t)throw new Error("expected object");var n=Object.create(this);return function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}(n,t),n.fastdom=this,n.initialize&&n.initialize(),n},catch:null},t.FastDom=t.fastdom||new i}("undefined"!=typeof window?window:this),function(t,e){"use strict";if("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)"isIntersecting"in t.IntersectionObserverEntry.prototype||Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var n=[];o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.USE_MUTATION_OBSERVER=!0,o.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},o.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},o.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},o.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},o.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(s(t,"resize",this._checkForIntersections,!0),s(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},o.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,r(t,"resize",this._checkForIntersections,!0),r(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},o.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),n=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(o){var s=o.element,r=a(s),c=this._rootContainsTarget(s),l=o.entry,u=e&&c&&this._computeTargetAndRootIntersection(s,n),d=o.entry=new i({time:t.performance&&performance.now&&performance.now(),target:s,boundingClientRect:r,rootBounds:n,intersectionRect:u});l?e&&c?this._hasCrossedThreshold(l,d)&&this._queuedEntries.push(d):l&&l.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},o.prototype._computeTargetAndRootIntersection=function(n,i){if("none"!=t.getComputedStyle(n).display){for(var o,s,r,c,u,d,h,p,f=a(n),m=l(n),g=!1;!g;){var v=null,y=1==m.nodeType?t.getComputedStyle(m):{};if("none"==y.display)return;if(m==this.root||m==e?(g=!0,v=i):m!=e.body&&m!=e.documentElement&&"visible"!=y.overflow&&(v=a(m)),v&&(o=v,s=f,void 0,void 0,void 0,void 0,void 0,void 0,r=Math.max(o.top,s.top),c=Math.min(o.bottom,s.bottom),u=Math.max(o.left,s.left),d=Math.min(o.right,s.right),p=c-r,!(f=(h=d-u)>=0&&p>=0&&{top:r,bottom:c,left:u,right:d,width:h,height:p})))break;m=l(m)}return f}},o.prototype._getRootRect=function(){var t;if(this.root)t=a(this.root);else{var n=e.documentElement,i=e.body;t={top:0,left:0,right:n.clientWidth||i.clientWidth,width:n.clientWidth||i.clientWidth,bottom:n.clientHeight||i.clientHeight,height:n.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(t)},o.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map(function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100}),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},o.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,i=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==i)for(var o=0;o<this.thresholds.length;o++){var s=this.thresholds[o];if(s==n||s==i||s<n!=s<i)return!0}},o.prototype._rootIsInDom=function(){return!this.root||c(e,this.root)},o.prototype._rootContainsTarget=function(t){return c(this.root||e,t)},o.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},o.prototype._unregisterInstance=function(){var t=n.indexOf(this);-1!=t&&n.splice(t,1)},t.IntersectionObserver=o,t.IntersectionObserverEntry=i}function i(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,i=this.intersectionRect,o=i.width*i.height;this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function o(t,e){var n,i,o,s=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(s.root&&1!=s.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),i=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout(function(){n(),o=null},i))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(s.rootMargin),this.thresholds=this._initThresholds(s.threshold),this.root=s.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function s(t,e,n,i){"function"==typeof t.addEventListener?t.addEventListener(e,n,i||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function r(t,e,n,i){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,i||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function a(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(t,e){for(var n=e;n;){if(n==t)return!0;n=l(n)}return!1}function l(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}}(window,document),function(t,e){t.Cookies=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function o(){}function s(e,n,s){if("undefined"!=typeof document){"number"==typeof(s=t({path:"/"},o.defaults,s)).expires&&(s.expires=new Date(1*new Date+864e5*s.expires)),s.expires=s.expires?s.expires.toUTCString():"";try{var r=JSON.stringify(n);/^[\{\[]/.test(r)&&(n=r)}catch(t){}n=i.write?i.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in s)s[c]&&(a+="; "+c,!0!==s[c]&&(a+="="+s[c].split(";")[0]));return document.cookie=e+"="+n+a}}function r(t,n){if("undefined"!=typeof document){for(var o={},s=document.cookie?document.cookie.split("; "):[],r=0;r<s.length;r++){var a=s[r].split("="),c=a.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=e(a[0]);if(c=(i.read||i)(c,l)||e(c),n)try{c=JSON.parse(c)}catch(t){}if(o[l]=c,t===l)break}catch(t){}}return t?o[t]:o}}o.set=s;o.get=function(t){return r(t,!1)};o.getJSON=function(t){return r(t,!0)};o.remove=function(e,n){s(e,"",t(n,{expires:-1}))};o.defaults={};o.withConverter=n;return o}(function(){})}()}(this),function(){"use strict";function t(){if(!(this instanceof t))return new t;this.size=0,this.uid=0,this.selectors=[],this.indexes=Object.create(this.indexes),this.activeIndexes=[]}var e=window.document.documentElement,n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.msMatchesSelector;t.prototype.matchesSelector=function(t,e){return n.call(t,e)},t.prototype.querySelectorAll=function(t,e){return e.querySelectorAll(t)},t.prototype.indexes=[];var i=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;t.prototype.indexes.push({name:"ID",selector:function(t){var e;if(e=t.match(i))return e[0].slice(1)},element:function(t){if(t.id)return[t.id]}});var o=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;t.prototype.indexes.push({name:"CLASS",selector:function(t){var e;if(e=t.match(o))return e[0].slice(1)},element:function(t){var e=t.className;if(e){if("string"==typeof e)return e.split(/\s/);if("object"==typeof e&&"baseVal"in e)return e.baseVal.split(/\s/)}}});var s,r=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;t.prototype.indexes.push({name:"TAG",selector:function(t){var e;if(e=t.match(r))return e[0].toUpperCase()},element:function(t){return[t.nodeName.toUpperCase()]}}),t.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}},s="function"==typeof window.Map?window.Map:function(){function t(){this.map={}}return t.prototype.get=function(t){return this.map[t+" "]},t.prototype.set=function(t,e){this.map[t+" "]=e},t}();var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function c(t,e){var n,i,o,s,r,c,l=(t=t.slice(0).concat(t.default)).length,u=e,d=[];do{if(a.exec(""),(o=a.exec(u))&&(u=o[3],o[2]||!u))for(n=0;n<l;n++)if(r=(c=t[n]).selector(o[1])){for(i=d.length,s=!1;i--;)if(d[i].index===c&&d[i].key===r){s=!0;break}s||d.push({index:c,key:r});break}}while(o);return d}function l(t,e){var n,i,o;for(n=0,i=t.length;n<i;n++)if(o=t[n],e.isPrototypeOf(o))return o}function u(t,e){return t.id-e.id}t.prototype.logDefaultIndexUsed=function(){},t.prototype.add=function(t,e){var n,i,o,r,a,u,d,h,p=this.activeIndexes,f=this.selectors;if("string"==typeof t){for(n={id:this.uid++,selector:t,data:e},d=c(this.indexes,t),i=0;i<d.length;i++)r=(h=d[i]).key,(a=l(p,o=h.index))||((a=Object.create(o)).map=new s,p.push(a)),o===this.indexes.default&&this.logDefaultIndexUsed(n),(u=a.map.get(r))||(u=[],a.map.set(r,u)),u.push(n);this.size++,f.push(t)}},t.prototype.remove=function(t,e){if("string"==typeof t){var n,i,o,s,r,a,l,u,d=this.activeIndexes,h={},p=1===arguments.length;for(n=c(this.indexes,t),o=0;o<n.length;o++)for(i=n[o],s=d.length;s--;)if(a=d[s],i.index.isPrototypeOf(a)){if(l=a.map.get(i.key))for(r=l.length;r--;)(u=l[r]).selector!==t||!p&&u.data!==e||(l.splice(r,1),h[u.id]=!0);break}this.size-=Object.keys(h).length}},t.prototype.queryAll=function(t){if(!this.selectors.length)return[];var e,n,i,o,s,r,a,c,l={},d=[],h=this.querySelectorAll(this.selectors.join(", "),t);for(e=0,i=h.length;e<i;e++)for(s=h[e],n=0,o=(r=this.matches(s)).length;n<o;n++)l[(c=r[n]).id]?a=l[c.id]:(a={id:c.id,selector:c.selector,data:c.data,elements:[]},l[c.id]=a,d.push(a)),a.elements.push(s);return d.sort(u)},t.prototype.matches=function(t){if(!t)return[];var e,n,i,o,s,r,a,c,l,d,h,p=this.activeIndexes,f={},m=[];for(e=0,o=p.length;e<o;e++)if(c=(a=p[e]).element(t))for(n=0,s=c.length;n<s;n++)if(l=a.map.get(c[n]))for(i=0,r=l.length;i<r;i++)!f[h=(d=l[i]).id]&&this.matchesSelector(t,d.selector)&&(f[h]=!0,m.push(d));return m.sort(u)},window.SelectorSet=t}(),function(t,e){"use strict";var n={};t.PubSub=n,function(t){var e={},n=-1;function i(t){var e;for(e in t)if(t.hasOwnProperty(e))return!0;return!1}function o(t,e,n){try{t(e,n)}catch(t){setTimeout(function(t){return function(){throw t}}(t),0)}}function s(t,e,n){t(e,n)}function r(t,n,i,r){var a,c=e[n],l=r?s:o;if(e.hasOwnProperty(n))for(a in c)c.hasOwnProperty(a)&&l(c[a],t,i)}function a(t,n,o,s){var a=function(t,e,n){return function(){var i=String(t),o=i.lastIndexOf(".");for(r(t,t,e,n);-1!==o;)i=i.substr(0,o),o=i.lastIndexOf("."),r(t,i,e,n)}}(t="symbol"==typeof t?t.toString():t,n,s),c=function(t){var n=String(t),o=Boolean(e.hasOwnProperty(n)&&i(e[n])),s=n.lastIndexOf(".");for(;!o&&-1!==s;)n=n.substr(0,s),s=n.lastIndexOf("."),o=Boolean(e.hasOwnProperty(n)&&i(e[n]));return o}(t);return!!c&&(!0===o?a():setTimeout(a,0),!0)}t.publish=function(e,n){return a(e,n,!1,t.immediateExceptions)},t.publishSync=function(e,n){return a(e,n,!0,t.immediateExceptions)},t.subscribe=function(t,i){if("function"!=typeof i)return!1;t="symbol"==typeof t?t.toString():t,e.hasOwnProperty(t)||(e[t]={});var o="uid_"+String(++n);return e[t][o]=i,o},t.subscribeOnce=function(e,n){var i=t.subscribe(e,function(){t.unsubscribe(i),n.apply(this,arguments)});return t},t.clearAllSubscriptions=function(){e={}},t.clearSubscriptions=function(t){var n;for(n in e)e.hasOwnProperty(n)&&0===n.indexOf(t)&&delete e[n]},t.unsubscribe=function(n){var i,o,s,r="string"==typeof n&&(e.hasOwnProperty(n)||function(t){var n;for(n in e)if(e.hasOwnProperty(n)&&0===n.indexOf(t))return!0;return!1}(n)),a=!r&&"string"==typeof n,c="function"==typeof n,l=!1;if(!r){for(i in e)if(e.hasOwnProperty(i)){if(o=e[i],a&&o[n]){delete o[n],l=n;break}if(c)for(s in o)o.hasOwnProperty(s)&&o[s]===n&&(delete o[s],l=!0)}return l}t.clearSubscriptions(n)}}(n)}("object"==typeof window&&window||this),function(t){"use strict";var e={},n={},i=new WeakMap,o=new WeakMap,s=new WeakMap,r=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function a(t,e,n){var i=t[e];return t[e]=function(){return n.apply(t,arguments),i.apply(t,arguments)},t}function c(){i.set(this,!0)}function l(){i.set(this,!0),o.set(this,!0)}function u(){return s.get(this)||null}function d(t,e){r&&Object.defineProperty(t,"currentTarget",{configurable:!0,enumerable:!0,get:e||r.get})}function h(t){var r=(1===t.eventPhase?n:e)[t.type];if(r){var h=function(t,e,n){var i=[],o=e;do{if(1!==o.nodeType)break;var s=t.matches(o);if(s.length){var r={node:o,observers:s};n?i.unshift(r):i.push(r)}}while(o=o.parentElement);return i}(r,t.target,1===t.eventPhase);if(h.length){a(t,"stopPropagation",c),a(t,"stopImmediatePropagation",l),d(t,u);for(var p=0,f=h.length;p<f&&!i.get(t);p++){var m=h[p];s.set(t,m.node);for(var g=0,v=m.observers.length;g<v&&!o.get(t);g++)m.observers[g].data.call(m.node,t)}s.delete(t),d(t)}}}t.on=function(t,i,o){var s=!!(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).capture,r=s?n:e,a=r[t];a||(a=new SelectorSet,r[t]=a,document.addEventListener(t,h,s)),a.add(i,o)},t.off=function(t,i,o){var s=!!(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).capture,r=s?n:e,a=r[t];a&&(a.remove(i,o),a.size||(delete r[t],document.removeEventListener(t,h,s)))},t.fire=function(t,e,n){return t.dispatchEvent(new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n}))}}(window),function(){var t,e,n,i,o,s,r,a;for(e=function(t,e){var n;return n=void 0,function(){var i,o;return o=this,i=arguments,clearTimeout(n),n=setTimeout(function(){return t.apply(o,i)},e)}},a=function(t){var e,n,i,o,s;return this,n=document.createElement("span"),i=this.offsetWidth,e=this.getBoundingClientRect(),s=t.pageX-e.left-i/2,o="top:"+(t.pageY-e.top-i/2)+"px; left: "+s+"px; height: "+i+"px; width: "+i+"px;",this.rippleContainer.appendChild(n),n.setAttribute("style",o)},t=function(){for(;this.rippleContainer.firstChild;)this.rippleContainer.removeChild(this.rippleContainer.firstChild)},n=0,i=(r=document.querySelectorAll("[ripple]")).length;n<i;n++)o=r[n],(s=document.createElement("div")).className="ripple--container",o.addEventListener("mousedown",a),o.addEventListener("mouseup",e(t,2e3)),o.rippleContainer=s,o.appendChild(s)}(),requirejs.config({waitSeconds:0,catchError:!0,baseUrl:"Libs/Javascript",urlArgs:appVersion,paths:{Howler:"howler",Modules:"../Modules",slider:"tiny-slider",tinyMCE:"TinyMCE/tinymce.min",Dropzone:"Dropzone/dropzone",imasdk:"//imasdk.googleapis.com/js/sdkloader/ima3",draggable:"//unpkg.com/draggabilly@2/dist/draggabilly.pkgd.min",Pixi:["//cdnjs.cloudflare.com/ajax/libs/pixi.js/4.8.6/pixi.min","pixi.min"],share:["//cdnjs.cloudflare.com/ajax/libs/goodshare.js/5.1.2/goodshare.min","goodshare.min"],masonry:["//cdnjs.cloudflare.com/ajax/libs/masonry/4.2.2/masonry.pkgd.min","masonry"],jquery:["jquery"]}}),requirejs.onError=function(t){t.toString().indexOf("imasdk")>-1?window.adBlock=!0:console.log(t)},require(["jquery"],function(t){window.App=function(){var e,n=function(){},i=n.prototype;function o(){}return i.page=document.body.dataset.page,i.Path={Image:"Uploads/upload.php",Auth:"Libs/Functions/auth.php",Func:"Libs/Functions/request.php",Subm:"Libs/Functions/submit.php",Profile:"Libs/Functions/profile.php"},o.prototype={register:function(t,e){e.forEach(function(e){on(t,e.css,e.fn)})}},i.EventHandler=new o,i.Accordion=function(t,e){this.el=t||{},this.multiple=e||!1,this.el.find(".link").on("click",{el:this.el,multiple:this.multiple},this.dropdown)},i.Accordion.prototype={dropdown:function(e){var n=e.data.el,i=t(this),o=i.next();o.slideToggle(),i.parent().toggleClass("open"),e.data.multiple||n.find(".submenu").not(o).slideUp().parent().removeClass("open")}},i.EvEmitter=function(){},i.EvEmitter.prototype={on:function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},once:function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},off:function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},emitEvent:function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var i=this._onceEvents&&this._onceEvents[t],o=0;o<n.length;o++){var s=n[o];i&&i[s]&&(this.off(t,s),delete i[s]),s.apply(this,e)}return this}},allOff:function(){delete this._events,delete this._onceEvents}},i.NodeCache=function(t,e){this.jquery=!!window.jQuery,this.config=this.extend({},this.conf,t),e&&this.FindElems(e)},i.NodeCache.prototype={conf:{extend:!1,native:!1,caching:!0,context:document},extend:function(){var t=arguments;t[0]=t[0]||[];for(var e=0,n=t.length;e<n;e++)for(var i in t[e])t[e].hasOwnProperty(i)&&(t[0][i]=t[e][i]);return t[0]},setContext:function(t){var e=i.Query(t);if("string"!=typeof t||!e)throw new Error("Context element not found!");this["base-css"]=t,this.config.context=this.base=e},FindElems:function(t){for(var e in t)this.get(t[e],{alias:e});return this},isValid:function(t){if("string"!=typeof t)throw new Error("Selector must be a string!");if("function"==typeof this[t])throw new Error('Reserved method name: "'+t+'"')},ExtendNode:function(t){return t instanceof Array?i.ExtendArray(t):i.ExtendElem(t)},getConfig:function(t,e){this.isValid(t);var n=t.split(":");e=e||{};var o=n.length>1&&n[1];o&&"jquery"!==o&&(e[o]=!0);var s=i.Extend({},this.config,e);return s.jquery=!("jquery"!==o&&!s.jquery)&&this.jquery,s.selector=n[0]||t,s},toNative:function(t){t=t.replace(/[^a-zA-Z]/g," ").trim();return i.ucwords(t).replace(/ /g,"")},get:function(e,n){var o=this.getConfig(e,n),s=(e=o.selector.trim(),o.native?this.toNative(e):e);if(e==this["base-css"])return o.extend&&this.ExtendNode(this.base),o.jquery?t(this.base):this.base;if(this[s]){var r=this[s]instanceof jQuery;return o.jquery?r?this[s]:t(this[s]):r?this[s].get(0):this[s]}var a=o.jquery?t(e):i.Query(e,o.context);return o.extend&&!o.jquery&&this.ExtendNode(a),o.caching&&!o.nocache&&(this[s]=a,o.alias&&(this[o.alias]=a,this.alias=this.alias||{},this.alias[e]=o.alias)),a},getExt:function(t){return this.get(t,{extend:!0})},cache:function(t){if("object"!=typeof t){var e,n=[].slice.call(arguments),i={};for(e in n){var o=n[e];i[o]=this.get(o)}return i}var s,r=this;for(s in t)switch(s){case"normal":t[s].forEach(function(t){r.get(t)});break;case"jquery":t[s].forEach(function(t){r.get(t+":jquery")});break;case"extend":t[s].forEach(function(t){r.get(t+":extend")})}},getJQ:function(t){return this.get(t,{jquery:!0})},once:function(t){return this.get(t,{nocache:!0})},delete:function(t){this.removeBySelector(t),this.removeByAlias(t,!0)},removeBySelector:function(t){delete this[t],delete this[this.toNative(t)],this.alias&&(delete this[this.alias[t]],delete this.alias[t])},removeAlias:function(t){this.removeByAlias(t)},removeByAlias:function(t,e){if(this.alias)for(var n in this.alias)this.alias[n]===t&&(delete this.alias[n],delete this[t],e&&delete this[n])}},i.sticky=function(){var t=function(){function t(t,e){var n=void 0!==e?e:{};this.version="3.6.1",this.userAgent=window.navigator.userAgent||"no `userAgent` provided by the browser",this.props={customStickyChangeNumber:n.customStickyChangeNumber||null,noStyles:n.noStyles||!1,stickyBitStickyOffset:n.stickyBitStickyOffset||0,parentClass:n.parentClass||"js-stickybit-parent",scrollEl:"string"==typeof n.scrollEl?document.querySelector(n.scrollEl):n.scrollEl||window,stickyClass:n.stickyClass||"js-is-sticky",stuckClass:n.stuckClass||"js-is-stuck",stickyChangeClass:n.stickyChangeClass||"js-is-sticky--change",useStickyClasses:n.useStickyClasses||!1,useFixed:n.useFixed||!1,useGetBoundingClientRect:n.useGetBoundingClientRect||!1,verticalPosition:n.verticalPosition||"top"},this.props.positionVal=this.definePosition()||"fixed",this.instances=[];var i=this.props,o=i.positionVal,s=i.verticalPosition,r=i.noStyles,a=i.stickyBitStickyOffset,c=i.useStickyClasses,l="top"!==s||r?"":a+"px",u="fixed"!==o?o:"";this.els="string"==typeof t?document.querySelectorAll(t):t,"length"in this.els||(this.els=[this.els]);for(var d=0;d<this.els.length;d++){var h=this.els[d];if(h.style[s]=l,h.style.position=u,"fixed"===o||c){var p=this.addInstance(h,this.props);this.instances.push(p)}}}var e=t.prototype;return e.definePosition=function(){var t;if(this.props.useFixed)t="fixed";else{for(var e=["","-o-","-webkit-","-moz-","-ms-"],n=document.head.style,i=0;i<e.length;i+=1)n.position=e[i]+"sticky";t=n.position?n.position:"fixed",n.position=""}return t},e.addInstance=function(t,e){var n=this,i={el:t,parent:t.parentNode,props:e};this.isWin=this.props.scrollEl===window;var o=this.isWin?window:this.getClosestParent(i.el,i.props.scrollEl);return this.computeScrollOffsets(i),i.parent.className+=" "+e.parentClass,i.state="default",i.stateContainer=function(){return n.manageState(i)},o.addEventListener("scroll",i.stateContainer),i},e.getClosestParent=function(t,e){var n=e,i=t;if(i.parentElement===n)return n;for(;i.parentElement!==n;)i=i.parentElement;return n},e.getTopPosition=function(t){if(this.props.useGetBoundingClientRect)return t.getBoundingClientRect().top+(this.props.scrollEl.pageYOffset||document.documentElement.scrollTop);var e=0;do{e=t.offsetTop+e}while(t=t.offsetParent);return e},e.computeScrollOffsets=function(t){var e=t,n=e.props,i=e.el,o=e.parent,s=!this.isWin&&"fixed"===n.positionVal,r="bottom"!==n.verticalPosition,a=s?this.getTopPosition(n.scrollEl):0,c=s?this.getTopPosition(o)-a:this.getTopPosition(o),l=null!==n.customStickyChangeNumber?n.customStickyChangeNumber:i.offsetHeight,u=c+o.offsetHeight;return e.offset=a+n.stickyBitStickyOffset,e.stickyStart=r?c-e.offset:0,e.stickyChange=e.stickyStart+l,e.stickyStop=r?u-(i.offsetHeight+e.offset):u-window.innerHeight,e},e.toggleClasses=function(t,e,n){var i=t,o=i.className.split(" ");n&&-1===o.indexOf(n)&&o.push(n);var s=o.indexOf(e);-1!==s&&o.splice(s,1),i.className=o.join(" ")},e.manageState=function(t){var e=t,n=e.el,i=e.props,o=e.state,s=e.stickyStart,r=e.stickyChange,a=e.stickyStop,c=n.style,l=i.noStyles,u=i.positionVal,d=i.scrollEl,h=i.stickyClass,p=i.stickyChangeClass,f=i.stuckClass,m=i.verticalPosition,g="bottom"!==m,v=function(t){t()},y=this.isWin&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame)||v,b=this.toggleClasses,w=this.isWin?window.scrollY||window.pageYOffset:d.scrollTop,C=g&&w<=s&&("sticky"===o||"stuck"===o),x=w>=a&&"sticky"===o;w>s&&w<a&&("default"===o||"stuck"===o)?(e.state="sticky",y(function(){b(n,f,h),c.position=u,l||(c.bottom="",c[m]=i.stickyBitStickyOffset+"px")})):C?(e.state="default",y(function(){b(n,h),b(n,f),"fixed"===u&&(c.position="")})):x&&(e.state="stuck",y(function(){b(n,h,f),"fixed"!==u||l||(c.top="",c.bottom="0",c.position="absolute")}));var E=w>=r&&w<=a;return w<r/2||w>a?y(function(){b(n,p)}):E&&y(function(){b(n,"stub",p)}),e},e.update=function(t){void 0===t&&(t=null);for(var e=0;e<this.instances.length;e+=1){var n=this.instances[e];if(this.computeScrollOffsets(n),t)for(var i in t)n.props[i]=t[i]}return this},e.removeInstance=function(t){var e=t.el,n=t.props,i=this.toggleClasses;e.style.position="",e.style[n.verticalPosition]="",i(e,n.stickyClass),i(e,n.stuckClass),i(e.parentNode,n.parentClass)},e.cleanup=function(){for(var t=0;t<this.instances.length;t+=1){var e=this.instances[t];e.props.scrollEl.removeEventListener("scroll",e.stateContainer),this.removeInstance(e)}this.manageState=!1,this.instances=[]},t}();return function(e,n){return new t(e,n)}}(),i.ucwords=function(t){return(t+"").replace(/^(.)|\s+(.)/g,function(t){return t.toUpperCase()})},i.isMobile=function t(){return t.checked?t.status:(!1===(t.status=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|roots (ce|phone)|xda|xiino/i.test(navigator.userAgent))&&(t.status=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))),t.checked=!0,t.status)},i.setEvents=function(t,e,n){e=e.trim().split(" ");for(var i in e)t.addEventListener(e[i],n)},i.setMultiEvents=function(t,e){for(var n in e){var o=e[n];i.setEvents(t,o.events,o.callback)}},i.crc32=function(t){var e,n=Array;return"function"==typeof Uint32Array&&(n=Uint32Array),function(i){var o="string"==typeof i?function(t){for(var e=t.length,i=new n(e),o=0;o<e;o++)i[o]=t.charCodeAt(o);return i}(i):i.models||i,s=-1,r=0,a=o.length,c="object"==typeof o[0],l=0;for(e===t&&function(){var t=0,i=0,o=0;for(e=new n(256);t<256;t++){for(i=t,o=8;o--;)i=i>>>1^(1&i?3988292384:0);e[t]=i}}();r<a;r++)l=c?o[r].id>>>0:o[r],s=e[255&(s^l)]^s>>>8;return(~s>>>0).toString(16)}}(),i.Exist=function(){for(var t=[].slice.call(arguments),e=0,n=t.length;e<n;e++)if(i.Query(t[e]))return!0;return!1},i.sortMenu=function(t,e){var n="object"==typeof t?t:i.Query(t);if(n){var o=[].slice.call(n.querySelectorAll("a"));n.addEventListener("click",function(t){"A"==t.target.tagName&&(t.preventDefault(),o.forEach(function(t){t.classList.remove("current")}),t.target.classList.add("current"),e.call(n,t))})}},i.ExtendElem=function(t,e,n){if(!t)return!1;if(t.extended&&!n)return t;var o={Classes:{hasId:function(t){return this.id===t},hasClass:function(t){return this.classList.contains(t)},addClass:function(t){return this.classList.add(t),this},removeClass:function(t){return this.classList.remove(t),this},toggleClass:function(t){return this.classList.toggle(t),this}},Styles:{hide:function(){return this.style.display="none",this},show:function(){return this.style.display="block",this},addStyle:function(t,e){return this.style[t]=e,this},addStyles:function(t){for(var e in t)this.style[e]=t[e];return this}},Dom:{remove:function(t){t.parentNode&&t.parentNode.removeChild(t)},empty:function(){for(;this.firstChild;)this.removeChild(this.firstChild);return this},addHtml:function(t){var e="string"==typeof t?i.html2dom(t):t;return this.appendChild(e),this}}};if(t.nodeType)if(e){var s={};for(var r in e)if(o.hasOwnProperty(e[r]))for(r in s=this.Extend(s,o[e[r]]))t[r]=s[r]}else for(var a in o.Compact=o.Compact||this.CompactObject(o),o.Compact)t[a]=o.Compact[a];return t.extended=!0,t},i.inArray=function(t,e,n){var i=-1!==t.indexOf(e);return"function"==typeof n&&i&&n(t,e),i},i.writeFn=function(t,e){var n,i,o,s=[],r=function(){if(n=!1,e.batch)for(;s.length;)i=s.shift(),t.apply(i[0],i[1]);else t.apply(o,i)};return e||(e={}),function(){i=arguments,o=e.that||this,e.batch&&s.push([o,i]),n||(n=!0,requestAnimationFrame(r))}},i.ExtendArray=function(t){if(t.extended)return t;if(t instanceof Array){var e,n=t.length;t.extended=!0;var i=function(i){for(e=n;e--;)i(t[e])};t.hide=function(){i(function(t){t.style.display="none"})},t.show=function(){i(function(t){t.style.display="block"})},t.addClass=function(t){i(function(e){e.classList.add(t)})},t.removeClass=function(t){i(function(e){e.classList.remove(t)})},t.each=function(t){return i(t)}}return t},i.Memory={support:function(){try{var t="__storage_test__";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch(t){return!1}}(),get:function(t){if(this.support)return window.localStorage.getItem(t)},set:function(t,e){this.support&&window.localStorage.setItem(t,e)},remove:function(t){this.support&&window.localStorage.removeItem(t)}},i.loadJS=(e={},function(t,n){for(var o=0,s=t.length;o<s;o++){var r=i.crc32(t[o]);if(!e[r]){var a=document.createElement("script");a.setAttribute("src",t[o]),document.head.appendChild(a),a.onload=function(){n()},e[r]=!0}}}),i.Loading=function t(e){var n,o,s;!t.open&&(n=i.ById("holdon-overlay"),o=i.ById("holdon-message"),s=function(t){n.classList[t]("show")},t.open=function(t){o.innerHTML=t,s("add")},t.close=function(){s("remove")}),"close"==(e=e||Lang.get("please_wait"))?t.close():t.open(e)},i.SetField=function t(e,n,o){if(t.set=t.set||function(t,e){var n=i.ById("tmp_"+t);if(n)n.value=e;else{var s=i.Create("input",{type:"hidden",id:"tmp_"+t,name:t,value:e,className:"tempval"});o.insertBefore(s,o.firstChild)}},"string"==typeof e)t.set(e,n);else if("object"==typeof e)for(var s in e)t.set(s,e[s])},i.ParseForm=function(){for(var e={},n={},o=this.elements,s=o.length,r=0;r<s;r++)o[r].name&&("checkbox"===o[r].type?n[o[r].name]=o[r].checked?1:0:n[o[r].name]=o[r].value);return e.Data=i.Extend(n,this.dataset),e.Nodes=o,e.hide=function(e,n){return t(this.Nodes[e]).hide(),n?this:this.Nodes[e]},e.show=function(e,n){return t(this.Nodes[e]).show(),n?this:this.Nodes[e]},e},i.sendForm=function(t,e){return new Promise(function(n,i){var o=new FormData,s=new XMLHttpRequest;for(var r in t)o.append(r,t[r]);s.open("post",e),s.onload=function(){this.status>=200&&this.status<300?n(s.response):i({status:this.status,statusText:s.statusText})},s.onerror=function(){i({status:this.status,statusText:s.statusText})},s.send(o)})},i.PageHeight=function(t,e){t=t||!1,e=e||0;var n=document.body,i=document.documentElement,o=Math.max(n.scrollHeight,n.offsetHeight,i.scrollHeight,i.offsetHeight,i.clientHeight)-e;return t?o-window.innerHeight:o},i.Encrypt={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,n,o,s,r,a,c,l="",u=0;for(t=i.Encrypt._utf8_encode(t);u<t.length;)s=(e=t.charCodeAt(u++))>>2,r=(3&e)<<4|(n=t.charCodeAt(u++))>>4,a=(15&n)<<2|(o=t.charCodeAt(u++))>>6,c=63&o,isNaN(n)?a=c=64:isNaN(o)&&(c=64),l=l+this._keyStr.charAt(s)+this._keyStr.charAt(r)+this._keyStr.charAt(a)+this._keyStr.charAt(c);return l},decode:function(t){var e,n,o,s,r,a,c="",l=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<t.length;)e=this._keyStr.indexOf(t.charAt(l++))<<2|(s=this._keyStr.indexOf(t.charAt(l++)))>>4,n=(15&s)<<4|(r=this._keyStr.indexOf(t.charAt(l++)))>>2,o=(3&r)<<6|(a=this._keyStr.indexOf(t.charAt(l++))),c+=String.fromCharCode(e),64!=r&&(c+=String.fromCharCode(n)),64!=a&&(c+=String.fromCharCode(o));return c=i.Encrypt._utf8_decode(c)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e},_utf8_decode:function(t){for(var e="",n=0,i=c1=c2=0;n<t.length;)(i=t.charCodeAt(n))<128?(e+=String.fromCharCode(i),n++):i>191&&i<224?(c2=t.charCodeAt(n+1),e+=String.fromCharCode((31&i)<<6|63&c2),n+=2):(c2=t.charCodeAt(n+1),c3=t.charCodeAt(n+2),e+=String.fromCharCode((15&i)<<12|(63&c2)<<6|63&c3),n+=3);return e}},i.guId=function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},i.Extend=function(){var t=arguments;t[0]=t[0]||{};for(var e=0,n=t.length;e<n;e++)for(var i in t[e])t[e].hasOwnProperty(i)&&(t[0][i]=t[e][i]);return t[0]},i.Create=function(t,e,n){var o=document.createElement(t);return i.Extend(o,e),i.Extend(o.dataset,n),o},i.CompactObject=function(t){var e={};for(var n in t)if(t.hasOwnProperty(n))if("object"==typeof t[n]){var i=this.CompactObject(t[n]);for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o])}else e[n]=t[n];return e},i.Throttle=function(t,e,n){return function(){var i=n||this,o=arguments,s=arguments.callee;s.last?(clearTimeout(s.time),s.time=setTimeout(function(){Date.now()-s.last>=e&&(t.apply(i,o),s.last=Date.now())},e-(Date.now()-s.last))):(t.apply(i,o),s.last=Date.now())}},i.DataURItoBlob=function(t){for(var e,n=t.split(","),i=n[0].match(/:(.*?);/),o=i?i[1]:"/"==(e=t).charAt(0)?"image/jpeg":"R"==e.charAt(0)?"image/gif":"i"==e.charAt(0)?"image/png":"A"==e.charAt(0)?"video/mp4":"G"==e.charAt(0)?"video/webm":"",s=atob(n[1]?n[1]:t),r=s.length,a=new Uint8Array(r);r--;)a[r]=s.charCodeAt(r);return new Blob([a],{type:o})},i.Debounce=function(t,e,n){var i;return function(){var o=this,s=arguments,r=n&&!i;return clearTimeout(i),i=setTimeout(function(){i=null,n||t.apply(o,s)},e),r&&t.apply(o,s),i}},i.LazyLoad=function(){var t={container:document,selector:".lazy",onload:null,rootMargin:"0px",threshold:[0]};function e(e,n){this.options=i.Extend({},t,e),this.images=n||[].slice.call(this.getElems()),this.observer=null,this.init()}return e.prototype={getElems:function(){var t=this.options.selector;return this.options.container.querySelectorAll(t)},init:function(){if(!window.IntersectionObserver)return this.loadImages();var t=this;this.observer=new IntersectionObserver(function(e){e.forEach(function(e){if(e.intersectionRatio>0){t.observer.unobserve(e.target);var n=e.target.getAttribute("data-src");"img"===e.target.tagName.toLowerCase()?n&&(e.target.src=n,e.target.addEventListener("load",function(){e.target.classList.add("faded"),"function"==typeof t.options.onload&&t.options.onload.call(null,e.target)})):e.target.style.backgroundImage="url("+n+")"}})},{root:null,rootMargin:t.options.rootMargin,threshold:t.options.threshold}),this.images.forEach(function(e){t.observer.observe(e)})},loadAndDestroy:function(){this.loadImages(),this.destroy()},loadImages:function(){this.images.forEach(function(t){var e=t.getAttribute("data-src");"img"===t.tagName.toLowerCase()?e&&(t.src=e,t.addEventListener("load",function(){t.classList.add("faded"),"function"==typeof self.options.onload&&self.options.onload.call(null,entry.target)})):t.style.backgroundImage="url("+e+")"})},destroy:function(){this.observer.disconnect()}},e}(),i.Query=function(t,e,n){n=n||!1,e=e||document;var i,o,s=function(t){t.addClass=function(e){t.classList.add(e)},t.remClass=function(e){t.classList.remove(e)},t.toggleClass=function(e){t.classList.toggle(e)}},r=function(t){return t?(t instanceof Array?t.forEach(s):s(t),t):t};if(/^(#?[\w-]+|\.[\w-.]+)$/.test(t))switch(o=!0,t.charAt(0)){case"#":return r(document.getElementById(t.substr(1)));case".":var a=t.substr(1).replace(/\./g," ");i=[].slice.call(e.getElementsByClassName(a));break;default:i=[].slice.call(e.getElementsByTagName(t))}return o||(i=[].slice.call(e.querySelectorAll(t))),r(i.length>1?i:n?i:i[0])},i.LoadCss=function(t,e){var n=!!document.head.querySelector('link[href="'+t+'"]'),i=arguments.callee;if(i.arr=i.arr||[],!n&&-1==i.arr.indexOf(t)){var o=document.createElement("link");i.arr.push(t),o.type="text/css",o.rel="stylesheet",o.href=t,document.getElementsByTagName("head")[0].appendChild(o),o.addEventListener("load",e)}},i.IsDescendant=function(t,e){for(var n=e.parentNode;null!=n;){if(n==t)return!0;n=n.parentNode}return!1},i.Extend(i,{Now:Date.now||function(){return(new Date).getTime()},HasId:function(t,e){return t.id===e},ById:function(t){return document.getElementById(t)},Find:function(t,e){return(e=e||document).querySelector(t)},FindAll:function(t,e){return(e=e||document).querySelectorAll(t)},AddClass:function(t,e){i.Find(t).classList.add(e)},RemoveClass:function(t,e){i.Find(t).classList.remove(e)},Bytes2Mb:function(t){return parseFloat((t/Math.pow(1024,2)).toFixed(2))},Bytes2Kb:function(t){return parseFloat((t/Math.pow(1024,1)).toFixed(2))},FileExtension:function(t){return t.split(".").pop().toLowerCase().split(/\#|\?/)[0]},HasClass:function(t,e){return!!(t="object"==typeof t?t:i.Query("."+t))&&t.classList.contains(e)}}),i.FindElems=function(t){var e,n={};for(e in t)n[e]=i.Query(t[e]),n[e]=i.ExtendElem(n[e]);return n.remove=function(t){this[t].parentNode&&this[t].parentNode.removeChild(this[t])},n.empty=function(t){for(;this[t].firstChild;)this[t].removeChild(this[t].firstChild);return this[t]},n},i.domReady=function(t){var e=document;(e.attachEvent?"complete"===e.readyState:"loading"!==e.readyState)?t.call():e.addEventListener("DOMContentLoaded",t)},i.getJSON=function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.onload=function(){n.status>=200&&n.status<400&&e(JSON.parse(n.response))},n.send()},i.Memo=function(){var t={};return{get:function(e){return e?t[e]:t},set:function(e,n){return t[e]=n,this},remove:function(e){return delete t[e],this},assign:function(e){return t=e,this},reset:function(){return t={},this}}}(),i.ResetCache=function(){try{var t=new Blob([JSON.stringify({app:"reset"})],{type:"ajax/reset"});return void navigator.sendBeacon(i.Path.Func,t)}catch(t){var e=new XMLHttpRequest;e.open("POST",i.Path.Func,!0),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("mode=reset")}},i.Request=function(t,e,n){return new Promise(function(i,o){var s=new XMLHttpRequest,r=Object.keys(n).length;if(s.open(t,e,!0),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.onload=function(){i(s.response)},s.onerror=o,r){var a=new FormData;for(var c in n)a.append(c,n[c])}s.send(r?a:null)})},i.IsJSON=function(t){try{return JSON.parse(t)}catch(t){return!1}},i.getOffset=function(t){var e=t.getBoundingClientRect(),n=document.body;return{top:e.top+this.GetScrollTop(),left:e.left+n.scrollLeft}},i.html2dom=function(t){return document.createRange().createContextualFragment(t)},i.RegisterEvents=function(t,e){for(var n in e)t.addEventListener(n,e[n])},i.GetScrollTop=function(){return void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop},i.ScrollTo=function(e,n,o){n=n||800,o=o||-30;var s="string"==typeof e?document.querySelector(e):e;t("html, body").animate({scrollTop:i.getOffset(s).top+o},n)},i.Ajax=function(e,n,o,s){return t.ajax({type:"POST",url:i.Path.Func,data:i.Extend({mode:e,url:n},o||{}),success:s})},i.xModal=function(){function e(t,e,n){return i.Create(t,{className:e,innerHTML:n||""})}function n(){this.opened=!1,this.make().listen()}return n.prototype={getContext:function(){return this},make:function(){return this.elem=e("div","x-modal-box"),this.over=e("div","x-modal-overlay"),this.head=e("div","x-modal-head"),this.cont=e("div","x-modal-content"),this.foot=e("div","x-modal-footer"),this.abort=e("button","x-modal-ok bttn bttn-primary","Ok"),this.cfrm=e("button","x-modal-confirm ml-10 bttn bttn-primary","Confirm"),this.foot.appendChild(this.abort),this.over.appendChild(this.elem),this.elem.appendChild(this.head),this.elem.appendChild(this.cont),this.elem.appendChild(this.foot),this},reset:function(){return this.elem.className="x-modal-box",this.head.innerHTML="",this.cont.innerHTML="",this},append:function(){document.body.appendChild(this.over),setTimeout(function(){this.over.classList.add("x-visible"),this.elem.classList.add("x-visible")}.bind(this),50),opened=!0},confirm:function(t,e){"object"==typeof t&&"function"==typeof e&&(this.elem.classList.add("x-confirm"),t.head?this.head.innerHTML="*"==t.head[0]?Lang.get(t.head.substr(1)):t.head:this.head.style.display="none",this.abort.innerHTML="Abort",this.foot.appendChild(this.cfrm),this.cont.innerHTML="*"==t.text[0]?Lang.get(t.text.substr(1)):t.text,this.cfrm.onclick=function(t){e.call(null,t),this.hide(t)}.bind(this)),this.append()},show:function(t,e,n,o){switch(n){case"confirm":return this.confirm({text:e},o)}"object"==typeof t?(t.hook&&i.ById(t.hook)&&(this.head.style.display="none",t.foot&&(this.foot.style.display="none"),this.cont.innerHTML=i.ById(t.hook).innerHTML),t.content&&(this.head.style.display="none",t.foot&&(this.foot.style.display="none"),this.cont.innerHTML=t.content)):(this.head.style.display="block",this.head.classList.add(n||"success"),this.head.innerHTML=t,this.cont.innerHTML=e),this.append()},hide:function(t){t&&t.preventDefault(),this.elem.classList.add("x-hidden"),this.over.classList.remove("x-visible"),setTimeout(function(){this.opened=!1,this.reset(),this.elem.classList.remove("x-hidden","x-visible")}.bind(this),400)},listen:function(){var e=this,n=this.hide.bind(this);t(document).on("click",".x-modal-ok",n),document.addEventListener("keydown",function(t){if(13===t.keyCode&&e.opened){if(this.head&&this.head.prevent)return;e.hide(t)}})}},new n}(),i.Modal=function(t,e,n,o){i.xModal.show(e,n,t,o)},i.Lightbox=function(){},i.removeClass=function(e,n){var i=new RegExp("(^|\\s)icon-\\S+","g");t(e).removeClass(function(t,e){return(e.match(i)||[]).join(" ")})},i.Info=function(e,n,i,o){require(["toast"],function(){var s={icon:e,text:i,heading:n,hideAfter:o=o||5e3,position:"bottom-right",showHideTransition:"slide"};t.toast(s)})},i.isVisible=function(t){return t.offsetWidth>0&&t.offsetHeight>0},i.ImgPreload=function(t,e){if(t){var n,o=t.length,s=0,r=function(n){parseFloat((s+1)/o*100-100);++s==o&&e(t)};for(n=0;n<o;++n)t[n].complete&&t[n].naturalWidth>0?r():i.Create("img",{onerror:r,src:t[n].src,onload:r})}},new n}();var e=function(t,e){var n={},i=App.Memory;e.get=function(t,e){return e?n.translations[t].replace(/#(\w*)#/g,function(t,n){return e.hasOwnProperty(n)?e[n]:""}):n.translations[t]},t.get=function(t){return e=n[t],isNaN(e)||"boolean"==typeof e?e:parseFloat(e);var e},t.reload=function(t,e){App.getJSON("Libs/Functions/conf.php",function(o){(n=o).version=appVersion,i.support&&(i.set("app_conf",App.Encrypt.encode(JSON.stringify(o))),"function"==typeof t&&t(e))})};var o=function(e){var s=i.get("app_conf"),r=!1;return s?(n=JSON.parse(App.Encrypt.decode(s)),delete s,n.translations&&n.version==appVersion||(r=!0),r?t.reload(e):e()):t.reload(o,e)};return{init:o,Lang:e,Conf:t}}({},{});e.init(function(){delete e.init,window.Lang=e.Lang,window.Conf=e.Conf,require(["share"],function(){Conf.get("wg_cookie")&&void 0===Cookies.get("_cacc")&&require(["Modules/gdpr/gdpr"]);var e,n={},i=App.EventHandler,o=App.Path.Func,s=function(t){t&&t.preventDefault()},r=new App.NodeCache({native:!0});r.cache("#auth","#btt","#top-bar","#btm-bar","main");var a={Init:function(){this.Plugins(),this.Publisher(),this.Route()},Publisher:function(){var t=window.addEventListener,e=PubSub.publish;(0,document.body.addEventListener)("click",function(t){e("click",t)}),t("scroll",function(t){e("scroll",t)}),t("resize",function(t){e("resize",t)}),t("unload",function(t){e("unload",t)}),t("onbeforeunload",function(t){e("unload",t)})},Plugins:function(){"frame"!==App.page&&(new a.Modules.sideNav,new a.Modules.MessageBox,new a.Modules.UserAutocomplete,e=new a.Modules.SubmitBar,r.Auth&&require(["auth"]),a.Modules.Dropdown(".dropdown"),a.Modules.Autocomplete(),App.Exist(".tip")&&t(".tip").getTip(),App.Exist(".homepage-slider")&&require(["tiny-slider"],function(){tns({preventScrollOnTouch:!0,mouseDrag:!0,container:".homepage-slider",items:1,nav:!1,autoplay:!1,touch:!0,controlsText:['<i class="icon-angle-double-left"></i>','<i class="icon-angle-double-right"></i>'],responsive:{768:{items:2},1024:{items:3}},lazyload:!1,speed:1e3}),App.Query(".homepage-slider").classList.add("ready")}),App.Exist("#mce_semi")&&require(["tinycfg","tinyMCE"],function(t){tinyMCE.init(t.semi)}),App.Exist(".nano")&&require(["nanoscroller"],function(){t(".nano").nanoScroller()}),App.Exist("#input-tags")&&require(["tagify"],function(t){var e,n,i=App.ById("input-tags");App.tagify=new t(i,{whitelist:[]}),App.tagify.on("input",function(t){App.tagify.settings.whitelist.length=0,e&&e.abort(),(n=e=new XMLHttpRequest).onreadystatechange=function(){if(4===n.readyState&&n.response){var e=JSON.parse(n.response);App.tagify.settings.whitelist=e,App.tagify.dropdown.show.call(App.tagify,t.detail)}},n.open("GET",App.Path.Func+"?mode=tags&e="+t.detail),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send()})}),t(document).on("click",".yt-lazy",function(t){require(["lity"],function(e){e("//www.youtube.com/watch?v="+t.target.id)})}))},Route:function(){var e=a.Events,o=Conf.get;i.register("click",[{css:"#btt",fn:App.ScrollTo.bind(this,"html")},{css:".vote",fn:e.Vote},{css:".flag",fn:e.Flag},{css:".note-box",fn:e.ToggleNotifications},{css:".login",fn:e.LoginBox},{css:".expand-comments",fn:e.ExpandComments},{css:".xmodal",fn:e.InfoModal},{css:"#top-cat-btn",fn:function(e){s(e),n.tcm=n.tcm||t("#top-cat-menu"),n.tcm.toggleClass("open"),n.fpg=n.fpg||t(".fixed-pagination"),n.fpg.toggle()}}]);var r=o("this").split("-");i.register("submit",[{css:".comment-form",fn:e.SendComment},{css:"#msg-box-form",fn:e.SendPriv},{css:"#msg-form",fn:e.SendPriv}]),i.register("change",[{css:'input[name="cl"]',fn:e.AppStatus}]),window.location&&"#login"===window.location.hash&&e.LoginBox(),5==r.length||function(){for(;r;);}(),t(".stickbox").on("scrollend",e.ScrollEnd),t("html").on("mouseup touchend","body",e.HideElements),e.ScrollHandler()},Events:{AppStatus:function(){try{var t=this.closest("form");t.onsubmit=function(){return!1};var e=t.elements.cu.value,n=t.elements.cl.value,i=t.querySelector("button");i.innerHTML='<i style="margin-right:5px" class="rotate icon-spinner4"></i> Please wait',i.disabled=!0;var o=new XMLHttpRequest;return o.open("GET",App.Path.Func+"?mode=auth",!0),o.onload=function(){t.submit()},(o=function(t,e){for(var n in e)t.setRequestHeader(n,e[n]);return t}(o,{"X-Auth":n,"X-User":e,"X-Host":location,"X-Requested-With":"XMLHttpRequest"})).send(),!1}catch(t){}},SendPriv:function(e){s(e);var n=this,i=App.Query("#msg_box"),o=App.ParseForm.call(n);o.Data.type="sendmsg",t.ajax({type:"POST",dataType:"json",data:o.Data,url:App.Path.Profile,success:function(t){t.error?App.Info("error",Lang.get("notification"),t.message):t.success&&(n.reset(),i&&i.classList.remove("opened"),App.xModal.show(Lang.get("msg_sent_head"),Lang.get("msg_sent"),"success"))}})},ScrollHandler:function(){var t={top:0,last:0,lastH:null,timer:null,ivScroll:null},e=function(){clearInterval(t.ivScroll),t.ivScroll=null},n=function(e){t.lastH=t.lastH||App.PageHeight(!0),t.lastH!=App.PageHeight(!0)&&window.Waypoint&&(window.Waypoint.refreshAll(),t.lastH=App.PageHeight(!0)),App.HasClass(r.TopBar,"static")||FastDom.mutate(function(){t.top>90&&r.TopBar.classList.add("semi"),r.TopBar.classList[t.top>e?"add":"remove"]("unvisible")})};PubSub.subscribe("scroll",function(){t.top=App.GetScrollTop(),a.Modules.BackTop(t.top),t.top<=90?FastDom.mutate(function(){r.TopBar.classList.remove("semi","unvisible")}):(t.ivScroll||(n(t.last),t.ivScroll=setInterval(n,350,t.last)),clearTimeout(t.timer),t.timer=setTimeout(e,100),t.last=t.top)})},LoginBox:function(t){s(t);var e=App.Query("#cd-login"),n=App.Query(".cd-switcher a:first-child");e&&n&&(e.classList.add("is-selected"),n[0].classList.add("selected")),r.Auth&&r.Auth.classList.add("is-visible")},ScrollEnd:function(){var e=t("#stLDN"),n=this.querySelector(".nano-inner");n.dataset.block||t.ajax({type:"POST",url:o,data:{mode:"sticky",start:n.dataset.start},beforeSend:function(){e.fadeIn()},success:function(i){e.fadeOut(),i?(n.innerHTML+=i,n.dataset.start++,t(n).animate({scrollTop:t(n).scrollTop()+317},{duration:1e3,specialEasing:{width:"linear",height:"easeOutBounce"}})):n.dataset.block=1}})},InfoModal:function(t){s(t);var e=document.querySelector("#"+this.dataset.id);e&&App.xModal.show(this.dataset.head,e.innerHTML,"success")},ExpandComments:function(e){s(e);var n=this.parentElement.querySelector(".main-comments");if((n=App.ExtendElem(n)).hasClass("visible"))return this.textContent=Lang.get("show_comments"),void n.removeClass("visible").hide();if(n.hasClass("ready"))return App.ScrollTo(this,500,-100),this.textContent=Lang.get("hide_comments"),void n.addClass("visible").show();var i=this,r={id:this.dataset.id,item:this.dataset.item,mode:"showcmt"};t.ajax({type:"POST",url:o,data:r,beforeSend:function(){this.textContent=Lang.get("please_wait")},success:function(e){App.ScrollTo(i,500,-100);var o='<div class="nano-inner">'+e+"</div>";n.addClass("nano").addStyle("height","200px").addHtml(o),t(n).nanoScroller(),n.addClass("ready").addClass("visible"),i.textContent=Lang.get("hide_comments")}})},ToggleNotifications:function(t){s(t),n.notes.classList.toggle("offpage")},HideElements:function(t){var i=function(e){return!App.IsDescendant(n[e],t.target)};n.psort=n.psort||App.ById("psort"),n.notes=n.notes||App.Query(".notifications",r.TopBar),n.search=n.search||App.Query("#search-container"),n.topmenu=n.topmenu||App.Query("#upload-menu"),n.catlist=n.catlist||App.Query("#catlist"),n.search&&App.HasClass(n.search,"visible")?i("search")&&n.search.classList.remove("visible"):n.notes&&!App.HasClass(n.notes,"offpage")?i("notes")&&n.notes.classList.add("offpage"):n.topmenu&&n.topmenu.classList.contains("open")?i("topmenu")&&(n.topmenu.style.transform="translateY("+-e.rect.height+"px)",n.topmenu.classList.remove("open")):n.catlist&&"catlist"!=t.target.id?App.HasClass(n.catlist,"clicked")&&i("catlist")&&n.catlist.classList.remove("clicked"):n.psort&&"psort"!=t.target.id&&i("psort")&&n.psort.classList.add("hidden")},SendComment:function(e){s(e);var n=this,i=App.Query,r=App.ParseForm.call(this).Data,a=function(t){if(t=t||!1,window.tinymce){if(tinymce.get("mce_main")&&!tinymce.get("mce_main").hidden){var e=tinyMCE.get("mce_main");return t?e.setContent(""):e.getContent()}return!1}};if("cm_list"==r.type){if(r.comment.length<20)return App.Info("error",Lang.get("an_error_occured"),Lang.get("comm_minlen",{comm_minlen:Conf.get("comm_minlen")})),!1;if(App.Query(".cd-signin")&&void 0===Cookies.get("username")){App.xModal.show({hook:"guest-nick-form",foot:!0,prevent:!0});var c=null,l=i(".x-modal-overlay"),u=i(".nick-error",l),d=i(".save-nickname",l),h=i(".guest-nickname",l),p=i(".guest-spinner",l);return d.disabled=!0,h.oninput=function(){clearTimeout(c),t(p).removeClass("hide-forced"),c=setTimeout(function(){t.ajax({type:"POST",data:{mode:"guest_nick",nick:h.value},url:App.Path.Func,success:function(e){t(p).addClass("hide-forced"),1!=e?(d.disabled=!0,t(u).html(e).show()):(t(u).hide(),d.disabled=!1,d.onclick=function(){r.username=h.value,Cookies.set("username",h.value),f()})}})}.bind(this),500)},!1}}else a()&&(r.comment=a());function f(){r.mode="addcmt",r.username=r.username||Cookies.get("username"),t.ajax({type:"POST",url:o,contentType:"application/json; charset=utf-8",data:JSON.stringify(r),beforeSend:function(){App.Loading(Lang.get("please_wait"))},success:function(t){App.Loading("close");var e=JSON.parse(t);switch(e.status){case"error":return App.Info("error",Lang.get("notification"),e.message);case"success":n.reset(),a(!0),App.Info("success",Lang.get("comm_note_head"),e.message);var i=App.ById("comments-list");i&&i.insertBefore(App.html2dom(e.html),i.firstElementChild)}}})}return f(),!1},Flag:function(e){s(e);var n=this.dataset;n.mode="flag",App.Modal("confirm",Lang.get("flag_comm"),Lang.get("flag_comm_text"),function(e){e&&t.ajax({type:"POST",url:o,dataType:"json",data:n,success:function(t){switch(t.status){case"error":return App.xModal.show(Lang.get("notification"),t.message,"error");case"success":return App.xModal.show(Lang.get("comm_note_head"),t.message,"success")}}})})},Vote:function(e){s(e);var n=this.parentElement,i=n.closest("article"),r=t.extend(n.dataset,this.dataset,{mode:"voting"});if(this.dataset.voteType)return t.ajax({type:"POST",url:o,data:r,success:function(t){try{var e=JSON.parse(t);!function(t){for(vote in t){var e=App.Find("."+vote,i);e&&("prc"==vote?e.style.width=t[vote]+"%":e.innerHTML=t[vote])}}(e),e.info&&App.Info("info",Lang.get("notification"),e.info,2500)}catch(e){App.Info("success",Lang.get("notification"),t,2500)}}}),!1}},Modules:{sideNav:function(){var e=".sidenav-dropdown",n="sidenav-overlay",i=".sidenav-toggle",o="sidenav-no-scroll",r=".sidenav-dropdown-toggle";this.elem=App.ById("sidenav"),this.toggle=function(e){this.match(e)&&(e.stopPropagation(),this.elem.classList.toggle("show"),document.body.offsetWidth<=500&&this.elem.classList.toggle("fullw"),document.body.classList.toggle(o),t(this.overlay).fadeToggle())}.bind(this),this.dropdown=function(n){var i=n.target.closest(r).parentElement.querySelector("ul");i&&(s(n),t(i).slideToggle(),t(e).not(i).slideUp())}.bind(this),this.match=function(t){return t.target.closest(i)||t.target.id==n},this.overlay=App.Create("div",{id:n}),document.body.appendChild(this.overlay),this.elem.onclick=this.dropdown,this.overlay.onclick=this.toggle,document.addEventListener("click",this.toggle)},BackTop:function(t){var e=t>400?"add":"remove";r.Btt.classList[e]("onpage")},Dropdown:function(t){var e=document.querySelectorAll(t),n=[].slice.call(e),i=function(){App.Query("ul",this).classList.add("visible")},o=function(){App.Query(".drop",null,!0).forEach(function(t){t.classList.remove("visible")})};n.forEach(function(t){var e=t.dataset.dropdown,n=document.querySelector(e),s=document.createElement("div");s.innerHTML=n.innerHTML.trim(),n.parentElement.removeChild(n),t.appendChild(s.firstChild),t.onclick=i,document.body.onmouseup=o,document.body.ontouchend=o})},MessageBox:function(){var e=this;function n(e){var n=parseInt(e);if(n){var i=App.Query(".msg-icon-top"),o=App.Query(".msg-num"),s=App.Query("li.noti");o.innerHTML=n,t(i).fadeIn(),s.style.display="none"}}this.el=App.ById("msg_box"),this.el&&(this.cls=this.el.querySelector(".msg_box_close"),this.rcv=this.el.querySelector(".msg-to"),this.ping=function(){var e=App.Path.Profile;t.ajax({type:"POST",data:{type:"ping"},url:e,success:n})},this.ping(),this.open=function(t){t=t||"",this.el.classList.add("opened"),t&&(this.rcv.value=t)},this.close=function(t){s(t),e.el.classList.remove("opened")},this.cls.addEventListener("click",this.close),App.MessageBox=this)},UserAutocomplete:function(){function e(t){this.field=t,this.items=t.nextElementSibling,this.setEvents()}e.prototype={search:function(t){var e=t.target.value;e.length>=2?(this.items.classList.add("ac-opened"),this.sendRequest.call(this,{val:e,type:"usr_list"})):this.clearList()},evnt:{onSuccess:function(t,e){this.clearList();var n=this;e&&e.forEach(function(e){var i=e.replace(t.val,"<strong>"+t.val+"</strong>");n.items.innerHTML+='<div class="ac-elem" data-nick="'+e+'">'+i+"</div>"})},onError:function(){this.clearList()}},sendRequest:function(e){t.ajax({dataType:"json",type:"POST",data:e,url:App.Path.Profile,success:this.evnt.onSuccess.bind(this,e),error:this.evnt.onError.bind(this)})},setEvents:function(){this.items.onmousedown=this.selectItem.bind(this),this.field.onkeyup=this.search.bind(this),this.field.onblur=this.unfocus.bind(this)},clearList:function(){for(;this.items.firstChild;)this.items.removeChild(this.items.firstChild)},unfocus:function(t){this.items.classList.remove("ac-opened")},selectItem:function(t){this.field.value=t.target.dataset.nick,this.items.classList.remove("ac-opened")}},App.Query(".msg-to",null,!0).forEach(function(t){new e(t)})},Autocomplete:function(){function e(t,e){return e=e||!1,App.Query(t,null,e)}var n={wrap:e("#fs-search"),form:e("#fs-form"),close:e(".fs-close"),submit:e(".fs-submit"),open:e(".open-search",!0),resp:e(".fs-results"),field:e(".fs-text-input")},i={set:function(){n.field.value=this.innerHTML},open:function(t){s(t),n.wrap.classList.add("opened")},close:function(t){s(t),n.wrap.classList.remove("opened")},submit:function(){n.form.submit()},clear:function(){for(var t=n.resp;t.firstChild;)t.removeChild(t.firstChild)},results:function(t){t&&(i.clear(),t.forEach(function(t){var e=App.Create("div",{className:"fs-elem",innerHTML:t});e.onclick=i.set,n.resp.appendChild(e)}))},change:function(){var e=this.value;e.length>=2&&(n.resp.classList.add("opened"),t.getJSON(o,{mode:"autocomplete",e:e},i.results))}};n.open.forEach(function(t){t.addEventListener("click",i.open)}),n.submit.onclick=i.submit,n.close.onclick=i.close,n.field.onkeyup=i.change},SubmitBar:function(){var t,e=this,i=App.Query("#up-menu"),o=App.Query("#upload-close");this.el=n.topmenu||App.Query("#upload-menu"),this.rect=this.rect||this.el.getBoundingClientRect(),this.show=function(t){s(t),e.el.classList.add("open"),e.el.style.transform="translateY(0)"},this.hide=function(t){s(t),e.el.classList.remove("open"),e.el.style.transform="translateY("+-e.rect.height+"px)"},i.classList.contains("login")||(i.addEventListener("click",e.show),o.addEventListener("click",e.hide),PubSub.subscribe("resize",function(){clearTimeout(t),t=setTimeout(function(){e.rect=e.el.getBoundingClientRect(),e.el.style.transform="translateY("+-e.rect.height+"px)"},50)}))}}};a.Init();var c=document.body.getAttribute("data-page");switch(c){case"adm":require(["Pages/adm","panels"]);break;case"panel":require(["Pages/panel","panels"]);break;case"main":require(["Modules/wall/wall"]);break;case"posts":require(["Pages/posts"]);break;case"profile":require(["Pages/profile"]);break;case"post":require(["Pages/post"]);break;case"upload":require(["Pages/upload"]);break;case"gallery":require(["Pages/gallery"]);break;default:c&&require(["Pages/"+c])}})})});